{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "keyboard-key",
  "type": "registry:block",
  "title": "Keyboard Key",
  "registryDependencies": ["https://ui-play.skyroc.me/r/style.json"],
  "files": [
    {
      "path": "src/components/keyboard-key/KeyboardKey.tsx",
      "content": "'use client';\n\nimport { useComponentConfig } from '../config-provider/context';\nimport KeyboardKeyUI from './KeyboardKeyUI';\nimport type { KeyboardKeyProps } from './types';\n\nconst KeyboardKey = (props: KeyboardKeyProps) => {\n  const config = useComponentConfig('keyboardKey');\n\n  const mergedProps: KeyboardKeyProps = {\n\n    ...config,\n    ...props\n  };\n\n  return (\n    <KeyboardKeyUI\n      {...mergedProps}\n    />\n  );\n};\n\nKeyboardKey.displayName = 'KeyboardKey';\n\nexport default KeyboardKey;\n",
      "type": "registry:ui",
      "target": "components/keyboard-key/KeyboardKey.tsx"
    },
    {
      "path": "src/components/keyboard-key/KeyboardKeyUI.tsx",
      "content": "'use client';\n\nimport { cn } from '@/lib';\nimport { kbdVariants } from './kbd-variants';\nimport type { KeyboardKeyProps } from './types';\nimport { useKeyboardKey } from './use-keyboard-key';\n\nexport const KeyboardKeyUI = (props: KeyboardKeyProps) => {\n  const {\n    children,\n    className,\n    size,\n    symbolize = true,\n    value,\n    variant,\n    ...rest\n  } = props;\n\n  const { getKeyboardKey } = useKeyboardKey();\n\n  function formatValue() {\n    if (!value)\n      return '';\n\n    const values = Array.isArray(value) ? value : [value];\n\n    return values\n      .map((v) => {\n        if (symbolize) {\n          return getKeyboardKey(v);\n        }\n        return v;\n      })\n      .join('');\n  };\n\n  const mergedCls = cn(kbdVariants({ size, variant }), className);\n\n  const isGroup = Array.isArray(value);\n\n  const formattedValue = formatValue();\n\n  return (\n    <kbd\n      className={mergedCls}\n      data-group={isGroup ? '' : undefined}\n      data-slot=\"kbd\"\n      data-variant={variant}\n      {...rest}\n    >\n      {children || formattedValue}\n    </kbd>\n  );\n};\n\nKeyboardKeyUI.displayName = 'KeyboardKeyUI';\n\nexport default KeyboardKeyUI;\n",
      "type": "registry:ui",
      "target": "components/keyboard-key/KeyboardKeyUI.tsx"
    },
    {
      "path": "src/components/keyboard-key/index.ts",
      "content": "export { default as Kbd } from './KeyboardKey';\n\nexport type { KbdKey, KbdValue, KbdVariant, KbdSize, KeyboardKeyProps, KeyboardKeyGroupProps } from './types';\n\nexport { useKeyboardKey, builtinKeyboardKeyMap } from './use-keyboard-key';\n",
      "type": "registry:ui",
      "target": "components/keyboard-key/index.ts"
    },
    {
      "path": "src/components/keyboard-key/kbd-variants.ts",
      "content": "import { tv } from 'tailwind-variants';\nimport type { VariantProps } from 'tailwind-variants';\n\nexport const kbdVariants = tv({\n  base: `inline-flex items-center justify-center w-fit text-center font-medium border border-border shadow-[0_2px_0_0] rounded-sm font-[inherit]`,\n  variants: {\n    variant: {\n      solid: 'border-muted-foreground bg-muted-foreground text-muted shadow-muted-foreground/50',\n      outline: 'border-border bg-background text-muted-foreground shadow-border',\n      ghost: 'border-border bg-muted text-muted-foreground shadow-border/50'\n    },\n    size: {\n      'xs': 'h-4 min-w-4 px-0.5 text-3xs data-[group]:tracking-[0.125rem]',\n      'sm': 'h-4.5 min-w-4.5 px-0.625 text-2xs data-[group]:tracking-[0.15625rem]',\n      'md': 'h-5 min-w-5 px-0.75 text-xs data-[group]:tracking-[0.1875rem]',\n      'lg': 'h-6 min-w-6 px-1 text-sm data-[group]:tracking-[0.25rem]',\n      'xl': 'h-7 min-w-7 px-1.25 text-base data-[group]:tracking-[0.3125rem]',\n      '2xl': 'h-8 min-w-8 px-1.5 text-xl data-[group]:tracking-[0.375rem]'\n    }\n  },\n  defaultVariants: {\n    size: 'md',\n    variant: 'outline'\n  }\n});\n\ntype KbdVariantsType = VariantProps<typeof kbdVariants>;\n\nexport type KbdVariant = NonNullable<KbdVariantsType['variant']>;\nexport type KbdSize = NonNullable<KbdVariantsType['size']>;\n",
      "type": "registry:ui",
      "target": "components/keyboard-key/kbd-variants.ts"
    },
    {
      "path": "src/components/keyboard-key/types.ts",
      "content": "import type { ReactNode } from 'react';\nimport type { HTMLComponentProps } from '@/types/shared';\nimport type { KbdVariant, KbdSize } from './kbd-variants';\n\n/**\n * Predefined keyboard keys that have built-in styling and special handling.\n * These keys are commonly used in keyboard shortcuts and key combination displays.\n */\nexport type KbdKey\n  = | 'alt'\n    | 'arrowdown'\n    | 'arrowleft'\n    | 'arrowright'\n    | 'arrowup'\n    | 'backspace'\n    | 'capslock'\n    | 'command'\n    | 'ctrl'\n    | 'delete'\n    | 'end'\n    | 'enter'\n    | 'escape'\n    | 'home'\n    | 'meta'\n    | 'option'\n    | 'pagedown'\n    | 'pageup'\n    | 'shift'\n    | 'tab'\n    | 'win';\n\n/**\n * Union type that accepts either built-in keyboard keys or custom key strings.\n */\nexport type KbdValue = KbdKey | (string & {});\n\n/**\n * Props for the KeyboardKey component.\n * Renders a visual representation of one or more keyboard keys.\n *\n * @example\n * // Single key\n * <KeyboardKey value=\"enter\" />\n *\n * @example\n * // Key combination (multiple keys)\n * <KeyboardKey value={['ctrl', 'c']} />\n *\n * @example\n * // Custom rendering\n * <KeyboardKey value=\"cmd\">Custom content</KeyboardKey>\n */\nexport interface KeyboardKeyProps extends Omit<HTMLComponentProps<'kbd'>, 'children'> {\n  /**\n   * The keyboard key(s) to display.\n   * Can be a single key or an array of keys.\n   */\n  value?: KbdValue | KbdValue[];\n  /**\n   * Whether to convert the command value to symbol representation.\n   * @defaultValue true\n   */\n  symbolize?: boolean;\n  /**\n   * Visual variant style for the keyboard key(s).\n   */\n  variant?: KbdVariant;\n  /**\n   * Size of the keyboard key(s).\n   */\n  size?: KbdSize;\n  /**\n   * Custom content to display. If not provided, will display the formatted value.\n   */\n  children?: ReactNode;\n}\n\n/**\n * Props for the KeyboardKeyGroup component.\n * Renders multiple keyboard keys with a separator between them.\n *\n * @example\n * // Keyboard shortcut with default separator\n * <KeyboardKeyGroup values={['ctrl', 'shift', 'k']} />\n *\n * @example\n * // Custom separator\n * <KeyboardKeyGroup\n *   values={['cmd', 'option', 'j']}\n *   separator=\" + \"\n * />\n */\nexport interface KeyboardKeyGroupProps extends Omit<KeyboardKeyProps, 'value'> {\n  /**\n   * Array of keyboard key values to display in the group.\n   */\n  values: KbdValue[];\n  /**\n   * Content to display between keyboard keys (separator).\n   * Defaults to a visual separator if not provided.\n   */\n  separator?: ReactNode;\n}\n\nexport type { KbdVariant, KbdSize };\n",
      "type": "registry:ui",
      "target": "components/keyboard-key/types.ts"
    },
    {
      "path": "src/components/keyboard-key/use-keyboard-key.ts",
      "content": "'use client';\n\nimport { useEffect, useState } from 'react';\nimport type { KbdKey, KbdValue } from './types';\n\ninterface SpecificKeyboardKeyMap {\n  alt: string;\n  ctrl: string;\n  meta: string;\n}\n\nexport const builtinKeyboardKeyMap: Record<KbdKey, string> = {\n  alt: '',\n  arrowdown: '↓',\n  arrowleft: '←',\n  arrowright: '→',\n  arrowup: '↑',\n  backspace: '⌫',\n  capslock: '⇪',\n  command: '⌘',\n  ctrl: '',\n  delete: '⌦',\n  end: '↘',\n  enter: '↵',\n  escape: '⎋',\n  home: '↖',\n  meta: '',\n  option: '⌥',\n  pagedown: '⇟',\n  pageup: '⇞',\n  shift: '⇧',\n  tab: '⇥',\n  win: '⊞'\n};\n\nexport function useKeyboardKey() {\n  const [isMacOS, setIsMacOS] = useState(false);\n\n  const specificMapRef: SpecificKeyboardKeyMap = {\n    alt: isMacOS ? builtinKeyboardKeyMap.option : 'alt',\n    ctrl: isMacOS ? '⌃' : 'ctrl',\n    meta: isMacOS ? builtinKeyboardKeyMap.command : builtinKeyboardKeyMap.win\n  };\n\n  const getKeyboardKey = (value?: KbdValue) => {\n    if (!value)\n      return '';\n\n    if (value === 'meta' || value === 'alt' || value === 'ctrl') {\n      return specificMapRef[value as keyof SpecificKeyboardKeyMap];\n    }\n\n    return builtinKeyboardKeyMap[value as KbdKey] || value.toUpperCase();\n  };\n\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/set-state-in-effect\n    setIsMacOS(/Macintosh;/.test(navigator.userAgent));\n  }, []);\n\n  return {\n    getKeyboardKey,\n    isMacOS\n  };\n}\n",
      "type": "registry:ui",
      "target": "components/keyboard-key/use-keyboard-key.ts"
    }
  ]
}
