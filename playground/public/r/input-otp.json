{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "input-otp",
  "type": "registry:block",
  "title": "Input Otp",
  "registryDependencies": ["https://ui-play.skyroc.me/r/style.json"],
  "files": [
    {
      "path": "src/components/input-otp/InputOTP.tsx",
      "content": "'use client';\n\nimport type { ComponentRef } from 'react';\nimport { forwardRef } from 'react';\nimport { useComponentConfig } from '../config-provider/context';\nimport InputOTPUI from './InputOTPUI';\nimport type { InputOTPProps } from './types';\n\nconst InputOTP = forwardRef<ComponentRef<typeof InputOTPUI>, InputOTPProps>((props, ref) => {\n  const config = useComponentConfig('inputOtp');\n\n  const mergedProps = {\n    ...config,\n    ...props\n  };\n\n  return (\n    <InputOTPUI\n      {...mergedProps}\n      ref={ref}\n    />\n  );\n});\n\nInputOTP.displayName = 'InputOTP';\n\nexport default InputOTP;\n",
      "type": "registry:ui",
      "target": "components/input-otp/InputOTP.tsx"
    },
    {
      "path": "src/components/input-otp/InputOTPGroup.tsx",
      "content": "import { cn } from '@/lib/utils';\nimport { inputOTPVariants } from './input-otp-variants';\nimport type { InputOTPGroupProps } from './types';\n\nconst InputOTPGroup = (props: InputOTPGroupProps) => {\n  const { className, separate, size, ...rest } = props;\n\n  const { group } = inputOTPVariants({ separate, size });\n\n  const mergedCls = cn(group(), className);\n\n  return (\n    <div\n      className={mergedCls}\n      data-separate={separate}\n      data-size={size}\n      data-slot=\"input-otp-group\"\n      {...rest}\n    />\n  );\n};\n\nexport default InputOTPGroup;\n",
      "type": "registry:ui",
      "target": "components/input-otp/InputOTPGroup.tsx"
    },
    {
      "path": "src/components/input-otp/InputOTPSeparator.tsx",
      "content": "import { isValidElement } from 'react';\nimport { Minus } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { inputOTPVariants } from './input-otp-variants';\nimport type { InputOTPSeparatorProps } from './types';\n\nconst InputOTPSeparator = (props: InputOTPSeparatorProps) => {\n  const { children, className, size, ...rest } = props;\n\n  const { separator } = inputOTPVariants({ size });\n\n  const mergedCls = cn(separator(), className);\n\n  return (\n    <div\n      className={mergedCls}\n      data-size={size}\n      data-slot=\"input-otp-separator\"\n      {...rest}\n    >\n      {isValidElement(children) ? children : <Minus />}\n    </div>\n  );\n};\n\nexport default InputOTPSeparator;\n",
      "type": "registry:ui",
      "target": "components/input-otp/InputOTPSeparator.tsx"
    },
    {
      "path": "src/components/input-otp/InputOTPSlot.tsx",
      "content": "'use client';\n\nimport { useContext } from 'react';\nimport { OTPInputContext } from 'input-otp';\nimport { cn } from '@/lib/utils';\nimport { inputOTPVariants } from './input-otp-variants';\nimport type { InputOTPSlotProps } from './types';\n\nconst InputOTPSlot = (props: InputOTPSlotProps) => {\n  const { className, index, mask, separate, size, ...rest } = props;\n\n  const inputOTPContext = useContext(OTPInputContext);\n\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index];\n\n  const { input } = inputOTPVariants({ isActive, separate, size });\n\n  const mergedCls = cn(input(), className);\n\n  return (\n    <div\n      className={mergedCls}\n      data-has-fake-caret={hasFakeCaret}\n      data-index={index}\n      data-is-active={isActive}\n      data-separate={separate}\n      data-size={size}\n      data-slot=\"input-otp-slot\"\n      {...rest}\n    >\n      {mask && char ? '‚óè' : char}\n\n      {hasFakeCaret\n        ? (\n          <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n            <div className=\"animate-caret-blink bg-foreground h-4 w-px duration-1000\" />\n          </div>\n        )\n        : null}\n    </div>\n  );\n};\n\nexport default InputOTPSlot;\n",
      "type": "registry:ui",
      "target": "components/input-otp/InputOTPSlot.tsx"
    },
    {
      "path": "src/components/input-otp/InputOTPUI.tsx",
      "content": "import type { ComponentRef } from 'react';\nimport { Fragment, forwardRef } from 'react';\nimport InputOTPGroup from './InputOTPGroup';\nimport InputOTPSeparator from './InputOTPSeparator';\nimport InputOTPSlot from './InputOTPSlot';\nimport InputOtpRoot from './InputOtpRoot';\nimport type { InputOTPProps } from './types';\n\nconst InputOTPUI = forwardRef<ComponentRef<typeof InputOtpRoot>, InputOTPProps>((props, ref) => {\n  const { className, classNames, inputCount = 6, mask, separator, size, ...rest } = props;\n\n  const isSeparator = Boolean(separator);\n\n  return (\n    <InputOtpRoot\n      className={className || classNames?.root}\n      maxLength={inputCount}\n      ref={ref}\n      {...rest}\n    >\n      <InputOTPGroup\n        className={classNames?.group}\n        separate={isSeparator}\n        size={size}\n      >\n        {Array.from({ length: inputCount }).map((_, index) => (\n          <Fragment key={String(index)}>\n            <InputOTPSlot\n              className={classNames?.input}\n              index={index}\n              mask={mask}\n              separate={isSeparator}\n              size={size}\n            />\n\n            {isSeparator && index !== inputCount - 1\n              ? (\n                <InputOTPSeparator\n                  className={classNames?.separator}\n                  size={size}\n                >\n                  {separator}\n                </InputOTPSeparator>\n              )\n              : null}\n          </Fragment>\n        ))}\n      </InputOTPGroup>\n    </InputOtpRoot>\n  );\n});\n\nInputOTPUI.displayName = 'InputOTPUI';\n\nexport default InputOTPUI;\n",
      "type": "registry:ui",
      "target": "components/input-otp/InputOTPUI.tsx"
    },
    {
      "path": "src/components/input-otp/InputOtpRoot.tsx",
      "content": "'use client';\n\nimport { type ComponentRef, forwardRef } from 'react';\nimport { OTPInput } from 'input-otp';\nimport { cn } from '@/lib/utils';\nimport { inputOTPVariants } from './input-otp-variants';\nimport type { InputOTPRootProps } from './types';\n\nconst InputOtpRoot = forwardRef<ComponentRef<typeof OTPInput>, InputOTPRootProps>((props, ref) => {\n  const { className, size: _, ...rest } = props;\n\n  const { root } = inputOTPVariants();\n\n  const mergedCls = cn(root(), className);\n\n  return (\n    <OTPInput\n      className={mergedCls}\n      data-slot=\"input-otp-root\"\n      ref={ref}\n      {...rest}\n    />\n  );\n});\n\nInputOtpRoot.displayName = 'InputOtpRoot';\n\nexport default InputOtpRoot;\n",
      "type": "registry:ui",
      "target": "components/input-otp/InputOtpRoot.tsx"
    },
    {
      "path": "src/components/input-otp/index.ts",
      "content": "export { default as InputOTP } from './InputOTP';\nexport { default as InputOTPGroup } from './InputOTPGroup';\nexport { default as InputOtpRoot } from './InputOtpRoot';\nexport { default as InputOTPSeparator } from './InputOTPSeparator';\nexport { default as InputOTPSlot } from './InputOTPSlot';\n\nexport * from './types';\n",
      "type": "registry:ui",
      "target": "components/input-otp/index.ts"
    },
    {
      "path": "src/components/input-otp/input-otp-variants.ts",
      "content": "import { tv } from 'tailwind-variants';\n\nexport const inputOTPVariants = tv({\n  compoundVariants: [\n    {\n      class: {\n        group: 'gap-0.75'\n      },\n      separate: true,\n      size: 'xs'\n    },\n    {\n      class: {\n        group: 'gap-1'\n      },\n      separate: true,\n      size: 'sm'\n    },\n    {\n      class: {\n        group: 'gap-1.25'\n      },\n      separate: true,\n      size: 'lg'\n    },\n    {\n      class: {\n        group: 'gap-1.5'\n      },\n      separate: true,\n      size: 'xl'\n    },\n    {\n      class: {\n        group: 'gap-1.75'\n      },\n      separate: true,\n      size: '2xl'\n    }\n  ],\n  defaultVariants: {\n    separate: false,\n    size: 'md'\n  },\n  slots: {\n    group: 'flex items-center disabled:opacity-50 has-[:disabled]:opacity-50',\n    input: [\n      `relative flex items-center justify-center text-center border-y border-r border-solid border-input bg-background transition-all duration-200`,\n      `focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:ring-primary focus-visible:z-2`,\n      `disabled:cursor-not-allowed disabled:opacity-50`\n    ],\n    root: `flex items-center disabled:cursor-not-allowed`,\n    separator: `text-muted-foreground`\n  },\n  variants: {\n    isActive: {\n      true: {\n        input: `z-10 ring-1 ring-ring`\n      }\n    },\n    separate: {\n      false: {\n        input: `first:rounded-l-md first:border-l last:rounded-r-md`\n      },\n      true: {\n        group: `gap-1`,\n        input: `rounded-md border`\n      }\n    },\n    size: {\n      '2xl': {\n        input: `h-12 w-12 text-xl`,\n        separator: `text-xl`\n      },\n      'lg': {\n        input: `h-9 w-9 text-base`,\n        separator: `text-base`\n      },\n      'md': {\n        input: `h-8 w-8 text-sm`,\n        separator: `text-sm`\n      },\n      'sm': {\n        input: `h-7 w-7 text-xs`,\n        separator: `text-xs`\n      },\n      'xl': {\n        input: `h-10 w-10 text-lg`,\n        separator: `text-lg`\n      },\n      'xs': {\n        input: `h-6 w-6 text-2xs`,\n        separator: `text-2xs`\n      }\n    }\n  }\n});\n\nexport type InputOTPSlots = keyof typeof inputOTPVariants.slots;\n",
      "type": "registry:ui",
      "target": "components/input-otp/input-otp-variants.ts"
    },
    {
      "path": "src/components/input-otp/types.ts",
      "content": "import type { RenderProps } from 'input-otp';\nimport type { HTMLComponentProps, ClassValue, ThemeSize } from '@/types/shared';\nimport type { InputOTPSlots } from './input-otp-variants';\n\n/**\n * Utility type that overrides specific properties in a type.\n * Used to merge base properties with custom overrides.\n */\ntype OverrideProps<T, R> = Omit<T, keyof R> & R;\n\n/**\n * Base styled component props for the OTP input root element.\n * Combines HTML input attributes with OTP-specific configuration.\n */\ntype OTPInputRootStyledComponentProps = OverrideProps<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  {\n    /**\n     * CSS class name for the root input element styling.\n     */\n    className?: ClassValue;\n    /**\n     * CSS class name for the container wrapper element.\n     */\n    containerClassName?: string;\n    /**\n     * Number of OTP input slots/digits.\n     * Must be a positive integer (typically 4, 6, or 8).\n     */\n    maxLength: number;\n    /**\n     * Fallback CSS string for browsers without JavaScript support.\n     * Provides basic styling when JS is disabled.\n     */\n    noScriptCSSFallback?: string | null;\n    /**\n     * Callback fired when the OTP value changes.\n     * Receives the current OTP string value.\n     */\n    onChange?: (newValue: string) => unknown;\n    /**\n     * Callback fired when all OTP slots are filled.\n     * Receives the complete OTP value.\n     */\n    onComplete?: (...args: any[]) => unknown;\n    /**\n     * Function to transform pasted OTP values.\n     * Used to handle various paste formats (e.g., \"123-456\" to \"123456\").\n     */\n    pasteTransformer?: (pasted: string) => string;\n    /**\n     * Strategy for handling password manager auto-fill.\n     * 'increase-width' expands the input width temporarily.\n     * 'none' disables special handling.\n     */\n    pushPasswordManagerStrategy?: 'increase-width' | 'none';\n    /**\n     * Size variant for the OTP input slots (sm, md, lg, etc).\n     */\n    size?: ThemeSize;\n    /**\n     * Text alignment of the OTP digits within slots.\n     */\n    textAlign?: 'center' | 'left' | 'right';\n    /**\n     * Current OTP value as a string.\n     */\n    value?: string;\n  }\n>;\n\n/**\n * Type for the render function used in render-prop pattern.\n * Provides access to OTP rendering context and utilities.\n */\ntype InputOTPRenderFn = (props: RenderProps) => React.ReactNode;\n\n/**\n * Props for the OTP input group container component.\n * Wrapper that organizes individual OTP slots.\n */\nexport type InputOTPGroupProps = HTMLComponentProps<'div'> & {\n  /**\n   * Whether to add visual separation between OTP slots.\n   * When true, each slot is displayed as a separate element with spacing.\n   */\n  separate?: boolean;\n};\n\n/**\n * Props for the root OTP input component.\n * Supports both controlled render-prop and children-based rendering.\n *\n * @example\n * ```tsx\n * // Using children rendering\n * <InputOTPRoot value={otp} onChange={setOtp} maxLength={6}>\n *   <InputOTPGroup>\n *     {Array.from({ length: 6 }).map((_, i) => (\n *       <InputOTPSlot key={i} index={i} />\n *     ))}\n *   </InputOTPGroup>\n * </InputOTPRoot>\n *\n * // Using render prop\n * <InputOTPRoot\n *   value={otp}\n *   onChange={setOtp}\n *   maxLength={6}\n *   render={({ slots }) => (\n *     <InputOTPGroup>\n *       {slots.map((slot, i) => (\n *         <InputOTPSlot key={i} index={i} {...slot} />\n *       ))}\n *     </InputOTPGroup>\n *   )}\n * />\n * ```\n */\nexport type InputOTPRootProps = OTPInputRootStyledComponentProps\n  & (\n    | {\n      /**\n       * Child elements - not allowed when using render prop.\n       */\n      children?: never;\n      /**\n       * Render function for custom slot rendering.\n       * Provides slots array and helper methods.\n       */\n      render: InputOTPRenderFn;\n    }\n    | {\n      /**\n       * Child elements to render OTP slots.\n       * Not allowed when using render prop.\n       */\n      children: React.ReactNode;\n      /**\n       * Render function - not allowed when using children.\n       */\n      render?: never;\n    }\n  );\n\n/**\n * Props for the OTP input separator component.\n * Visual divider between groups of OTP slots.\n *\n * @example\n * ```tsx\n * <InputOTPGroup>\n *   <InputOTPSlot index={0} />\n *   <InputOTPSlot index={1} />\n * </InputOTPGroup>\n * <InputOTPSeparator>-</InputOTPSeparator>\n * <InputOTPGroup>\n *   <InputOTPSlot index={2} />\n *   <InputOTPSlot index={3} />\n * </InputOTPGroup>\n * ```\n */\nexport interface InputOTPSeparatorProps extends HTMLComponentProps<'div'> {}\n\n/**\n * Props for individual OTP input slot components.\n * Represents a single digit input field.\n */\nexport interface InputOTPSlotProps extends HTMLComponentProps<'div'> {\n  /**\n   * Index position of this slot in the OTP sequence (0-based).\n   * Used to map slot values in the parent input.\n   */\n  index: number;\n  /**\n   * Whether to mask the displayed value (e.g., show bullets instead of digits).\n   * Useful for sensitive OTP codes.\n   */\n  mask?: boolean;\n  /**\n   * Whether this slot should be visually separated from others.\n   * When true, adds spacing and potentially border styling.\n   */\n  separate?: boolean;\n}\n\n/**\n * Class names for different slots in the input OTP component.\n * Allows customizing styles for specific parts of the OTP input.\n */\nexport type InputOTPClassNames = Partial<Record<InputOTPSlots, ClassValue>>;\n\n/**\n * Props for the main Input OTP component.\n * A convenient wrapper around InputOTPRoot with sensible defaults for common OTP patterns.\n *\n * @example\n * ```tsx\n * <InputOTP\n *   value={code}\n *   onChange={setCode}\n *   inputCount={6}\n *   mask\n *   separator={<span>-</span>}\n *   size=\"md\"\n *   onComplete={handleComplete}\n * />\n * ```\n */\nexport type InputOTPProps = Omit<OTPInputRootStyledComponentProps, 'maxLength' | 'separate'> & {\n  /**\n   * Class names for customizing different parts of the OTP input component.\n   */\n  classNames?: InputOTPClassNames;\n  /**\n   * Number of OTP input slots to render.\n   * Replaces the maxLength requirement from root props.\n   */\n  inputCount?: number;\n  /**\n   * Whether to mask OTP values with bullets/dots for privacy.\n   * Defaults to false.\n   */\n  mask?: boolean;\n  /**\n   * Separator element displayed between OTP slot groups.\n   * Can be a React element or true to use default separator.\n   */\n  separator?: React.ReactNode | true;\n  /**\n   * Size variant for the OTP input slots (sm, md, lg, etc).\n   */\n  size?: ThemeSize;\n};\n",
      "type": "registry:ui",
      "target": "components/input-otp/types.ts"
    }
  ]
}
