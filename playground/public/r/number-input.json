{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "number-input",
  "type": "registry:block",
  "title": "Number Input",
  "registryDependencies": ["https://ui-play.skyroc.me/r/style.json"],
  "files": [
    {
      "path": "src/components/number-input/NumberInput.tsx",
      "content": "'use client';\n\nimport { forwardRef } from 'react';\nimport { useComponentConfig } from '../config-provider/context';\nimport NumberInputUI from './NumberInputUI';\nimport type { NumberInputProps } from './types';\n\nconst NumberInput = forwardRef<HTMLInputElement, NumberInputProps>((props, ref) => {\n  const config = useComponentConfig('numberInput');\n\n  const mergedProps = {\n    ...config,\n    ...props\n  };\n\n  return (\n    <NumberInputUI\n      {...mergedProps}\n      ref={ref}\n    />\n  );\n});\n\nNumberInput.displayName = 'NumberInput';\n\nexport default NumberInput;\n",
      "type": "registry:ui",
      "target": "components/number-input/NumberInput.tsx"
    },
    {
      "path": "src/components/number-input/NumberInputControl.tsx",
      "content": "import { forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\nimport { numberInputVariants } from './number-input-variants';\nimport type { NumberInputControlProps } from './types';\n\nconst NumberInputControl = forwardRef<HTMLInputElement, NumberInputControlProps>((props, ref) => {\n  const { className, size, ...rest } = props;\n\n  const { control } = numberInputVariants({ size });\n\n  const mergedCls = cn(control(), className);\n\n  return (\n    <input\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      className={mergedCls}\n      data-size={size}\n      data-slot=\"number-input-control\"\n      inputMode=\"numeric\"\n      ref={ref}\n      spellCheck=\"false\"\n      type=\"text\"\n      {...rest}\n    />\n  );\n});\n\nNumberInputControl.displayName = 'NumberInputControl';\n\nexport default NumberInputControl;\n",
      "type": "registry:ui",
      "target": "components/number-input/NumberInputControl.tsx"
    },
    {
      "path": "src/components/number-input/NumberInputDecrement.tsx",
      "content": "import { forwardRef } from 'react';\nimport { Minus } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { numberInputVariants } from './number-input-variants';\nimport type { NumberInputDecrementProps } from './types';\n\nconst NumberInputDecrement = forwardRef<HTMLButtonElement, NumberInputDecrementProps>((props, ref) => {\n  const { children, className, disabled, size, ...rest } = props;\n\n  const { decrement } = numberInputVariants({ size });\n\n  const mergedCls = cn(decrement(), className);\n\n  return (\n    <button\n      aria-label=\"Decrement\"\n      className={mergedCls}\n      data-disabled={disabled ? '' : undefined}\n      data-size={size}\n      data-slot=\"number-input-decrement\"\n      disabled={disabled}\n      ref={ref}\n      tabIndex={-1}\n      type=\"button\"\n      {...rest}\n    >\n      {children || <Minus className=\"size-1em\" />}\n    </button>\n  );\n});\n\nNumberInputDecrement.displayName = 'NumberInputDecrement';\n\nexport default NumberInputDecrement;\n",
      "type": "registry:ui",
      "target": "components/number-input/NumberInputDecrement.tsx"
    },
    {
      "path": "src/components/number-input/NumberInputIncrement.tsx",
      "content": "import { forwardRef } from 'react';\nimport { Plus } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { numberInputVariants } from './number-input-variants';\nimport type { NumberInputIncrementProps } from './types';\n\nconst NumberInputIncrement = forwardRef<HTMLButtonElement, NumberInputIncrementProps>((props, ref) => {\n  const { children, className, disabled, size, ...rest } = props;\n\n  const { increment } = numberInputVariants({ size });\n\n  const mergedCls = cn(increment(), className);\n\n  return (\n    <button\n      aria-label=\"Increment\"\n      className={mergedCls}\n      data-disabled={disabled ? '' : undefined}\n      data-size={size}\n      data-slot=\"number-input-increment\"\n      disabled={disabled}\n      ref={ref}\n      tabIndex={-1}\n      type=\"button\"\n      {...rest}\n    >\n      {children || <Plus className=\"size-1em\" />}\n    </button>\n  );\n});\n\nNumberInputIncrement.displayName = 'NumberInputIncrement';\n\nexport default NumberInputIncrement;\n",
      "type": "registry:ui",
      "target": "components/number-input/NumberInputIncrement.tsx"
    },
    {
      "path": "src/components/number-input/NumberInputRoot.tsx",
      "content": "import { forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\nimport { numberInputVariants } from './number-input-variants';\nimport type { NumberInputRootProps } from './types';\n\nconst NumberInputRoot = forwardRef<HTMLDivElement, NumberInputRootProps>((props, ref) => {\n  const { className, center, size, ...rest } = props;\n\n  const { root } = numberInputVariants({ center, size });\n\n  const mergedCls = cn(root(), className);\n\n  return (\n    <div\n      className={mergedCls}\n      data-center={center ? '' : undefined}\n      data-size={size}\n      data-slot=\"number-input-root\"\n      ref={ref}\n      role=\"group\"\n      {...rest}\n    />\n  );\n});\n\nNumberInputRoot.displayName = 'NumberInputRoot';\n\nexport default NumberInputRoot;\n",
      "type": "registry:ui",
      "target": "components/number-input/NumberInputRoot.tsx"
    },
    {
      "path": "src/components/number-input/NumberInputUI.tsx",
      "content": "'use client';\n\nimport { forwardRef, useCallback, useRef, useState } from 'react';\nimport { X } from 'lucide-react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { cn } from '@/lib/utils';\nimport { numberInputVariants } from './number-input-variants';\nimport NumberInputControl from './NumberInputControl';\nimport NumberInputDecrement from './NumberInputDecrement';\nimport NumberInputIncrement from './NumberInputIncrement';\nimport NumberInputRoot from './NumberInputRoot';\nimport type { NumberInputProps } from './types';\n\nconst NumberInputUI = forwardRef<HTMLInputElement, NumberInputProps>((props, ref) => {\n  const {\n    className,\n    classNames,\n    size,\n    center,\n    clearable,\n    disabled,\n    readOnly,\n    min,\n    max,\n    step = 1,\n    value: valueProp,\n    defaultValue,\n    onChange,\n    onValueChange,\n    decrementIcon,\n    incrementIcon,\n    decrementProps,\n    incrementProps,\n    controlProps,\n    ...rest\n  } = props;\n\n  const { clearable: clearableCls } = numberInputVariants({ size });\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  const composedRefs = useComposedRefs(inputRef, ref);\n\n  // Internal state for uncontrolled mode\n  const [internalValue, setInternalValue] = useState<string>(() => {\n    if (defaultValue !== undefined) {\n      return String(defaultValue);\n    }\n    return '';\n  });\n\n  // Determine if controlled\n  const isControlled = valueProp !== undefined;\n  const displayValue = isControlled ? String(valueProp ?? '') : internalValue;\n\n  // Parse current value to number\n  const parseValue = useCallback((val: string): number | undefined => {\n    if (val === '' || val === '-')\n      return undefined;\n    const num = Number.parseFloat(val);\n    return Number.isNaN(num) ? undefined : num;\n  }, []);\n\n  // Clamp value within min/max bounds\n  const clampValue = useCallback((num: number): number => {\n    let result = num;\n    if (min !== undefined && result < min)\n      result = min;\n    if (max !== undefined && result > max)\n      result = max;\n    return result;\n  }, [min, max]);\n\n  // Update value\n  const updateValue = useCallback((newValue: number | undefined) => {\n    const stringValue = newValue !== undefined ? String(newValue) : '';\n\n    if (!isControlled) {\n      setInternalValue(stringValue);\n    }\n\n    onChange?.(newValue);\n    onValueChange?.(newValue);\n  }, [isControlled, onChange, onValueChange]);\n\n  // Handle input change\n  const handleInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const inputValue = e.target.value;\n\n    // Allow empty value, minus sign, or valid numbers\n    if (inputValue === '' || inputValue === '-' || /^-?\\d*(?:\\.\\d*)?$/.test(inputValue)) {\n      if (!isControlled) {\n        setInternalValue(inputValue);\n      }\n\n      const parsed = parseValue(inputValue);\n      onChange?.(parsed);\n      onValueChange?.(parsed);\n    }\n  }, [isControlled, onChange, onValueChange, parseValue]);\n\n  // Handle blur - clamp value\n  const handleBlur = useCallback(() => {\n    const parsed = parseValue(displayValue);\n    if (parsed !== undefined) {\n      const clamped = clampValue(parsed);\n      if (clamped !== parsed) {\n        updateValue(clamped);\n      }\n    }\n  }, [displayValue, parseValue, clampValue, updateValue]);\n\n  // Handle increment\n  const handleIncrement = useCallback(() => {\n    if (disabled || readOnly)\n      return;\n\n    const current = parseValue(displayValue) ?? 0;\n    const newValue = clampValue(current + step);\n    updateValue(newValue);\n  }, [disabled, readOnly, displayValue, parseValue, clampValue, step, updateValue]);\n\n  // Handle decrement\n  const handleDecrement = useCallback(() => {\n    if (disabled || readOnly)\n      return;\n\n    const current = parseValue(displayValue) ?? 0;\n    const newValue = clampValue(current - step);\n    updateValue(newValue);\n  }, [disabled, readOnly, displayValue, parseValue, clampValue, step, updateValue]);\n\n  // Handle clear\n  const handleClear = useCallback(() => {\n    if (disabled || readOnly)\n      return;\n    updateValue(undefined);\n    inputRef.current?.focus();\n  }, [disabled, readOnly, updateValue]);\n\n  // Handle keyboard events\n  const handleKeyDown = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (disabled || readOnly)\n      return;\n\n    switch (e.key) {\n      case 'ArrowUp':\n        e.preventDefault();\n        handleIncrement();\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        handleDecrement();\n        break;\n      case 'Escape':\n        inputRef.current?.blur();\n        break;\n    }\n  }, [disabled, readOnly, handleIncrement, handleDecrement]);\n\n  // Check if buttons should be disabled\n  const currentNum = parseValue(displayValue);\n  const isDecrementDisabled = disabled || readOnly || (min !== undefined && currentNum !== undefined && currentNum <= min);\n  const isIncrementDisabled = disabled || readOnly || (max !== undefined && currentNum !== undefined && currentNum >= max);\n\n  const mergedClearableCls = cn(clearableCls(), classNames?.clearable);\n\n  return (\n    <NumberInputRoot\n      center={center}\n      className={className || classNames?.root}\n      data-disabled={disabled ? '' : undefined}\n      data-readonly={readOnly ? '' : undefined}\n      size={size}\n    >\n      <NumberInputDecrement\n        className={classNames?.decrement}\n        disabled={isDecrementDisabled}\n        size={size}\n        onClick={handleDecrement}\n        {...decrementProps}\n      >\n        {decrementIcon}\n      </NumberInputDecrement>\n\n      <NumberInputControl\n        className={classNames?.control}\n        disabled={disabled}\n        readOnly={readOnly}\n        ref={composedRefs}\n        size={size}\n        value={displayValue}\n        onBlur={handleBlur}\n        onChange={handleInputChange}\n        onKeyDown={handleKeyDown}\n        {...controlProps}\n        {...rest}\n      />\n\n      {clearable && displayValue && !disabled && !readOnly\n        ? (\n          <X\n            className={mergedClearableCls}\n            data-slot=\"number-input-clearable\"\n            onClick={handleClear}\n          />\n        )\n        : null}\n\n      <NumberInputIncrement\n        className={classNames?.increment}\n        disabled={isIncrementDisabled}\n        size={size}\n        onClick={handleIncrement}\n        {...incrementProps}\n      >\n        {incrementIcon}\n      </NumberInputIncrement>\n    </NumberInputRoot>\n  );\n});\n\nNumberInputUI.displayName = 'NumberInputUI';\n\nexport default NumberInputUI;\n",
      "type": "registry:ui",
      "target": "components/number-input/NumberInputUI.tsx"
    },
    {
      "path": "src/components/number-input/index.ts",
      "content": "export { default as NumberInput } from './NumberInput';\nexport { default as NumberInputControl } from './NumberInputControl';\nexport { default as NumberInputDecrement } from './NumberInputDecrement';\nexport { default as NumberInputIncrement } from './NumberInputIncrement';\nexport { default as NumberInputRoot } from './NumberInputRoot';\n\nexport * from './types';\n\n",
      "type": "registry:ui",
      "target": "components/number-input/index.ts"
    },
    {
      "path": "src/components/number-input/number-input-variants.ts",
      "content": "import { tv } from 'tailwind-variants';\n\nexport const numberInputVariants = tv({\n  slots: {\n    root: [\n      `group flex items-center w-full rounded-md border border-solid border-input bg-background`,\n      `focus-within:border-input focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-background focus-within:ring-primary`,\n      `disabled:cursor-not-allowed disabled:opacity-50`\n    ],\n    decrement: [\n      `flex shrink-0 items-center justify-center text-muted-foreground bg-transparent outline-none cursor-pointer`,\n      `hover:text-foreground`,\n      `disabled:cursor-not-allowed disabled:opacity-20`\n    ],\n    increment: [\n      `flex shrink-0 items-center justify-center text-muted-foreground bg-transparent outline-none cursor-pointer`,\n      `hover:text-foreground`,\n      `disabled:cursor-not-allowed disabled:opacity-20`\n    ],\n    control: [\n      `h-full w-full grow bg-transparent outline-none`,\n      `placeholder:text-muted-foreground`,\n      `disabled:cursor-not-allowed disabled:opacity-50`\n    ],\n    clearable: `hidden group-hover:block size-1em cursor-pointer opacity-50 hover:opacity-100`\n  },\n  variants: {\n    size: {\n      'xs': {\n        root: 'h-6 px-1.5 text-2xs gap-1',\n        decrement: 'p-0.75',\n        increment: 'p-0.75'\n      },\n      'sm': {\n        root: 'h-7 px-2 text-xs gap-1.5',\n        decrement: 'p-1',\n        increment: 'p-1'\n      },\n      'md': {\n        root: 'h-8 px-2.5 text-sm gap-2',\n        decrement: 'p-1.25',\n        increment: 'p-1.25'\n      },\n      'lg': {\n        root: 'h-9 px-3 text-base gap-2.5',\n        decrement: 'p-1.5',\n        increment: 'p-1.5'\n      },\n      'xl': {\n        root: 'h-10 px-3.5 text-lg gap-3',\n        decrement: 'p-1.75',\n        increment: 'p-1.75'\n      },\n      '2xl': {\n        root: 'h-12 px-4 text-xl gap-3.5',\n        decrement: 'p-2',\n        increment: 'p-2'\n      }\n    },\n    center: {\n      true: {\n        decrement: '-order-1',\n        control: 'text-center'\n      }\n    }\n  },\n  defaultVariants: {\n    size: 'md',\n    center: false\n  }\n});\n\nexport type NumberInputSlots = keyof ReturnType<typeof numberInputVariants>;\n",
      "type": "registry:ui",
      "target": "components/number-input/number-input-variants.ts"
    },
    {
      "path": "src/components/number-input/types.ts",
      "content": "import type { ComponentPropsWithRef } from 'react';\nimport type { ClassValue, HTMLComponentProps, ThemeSize } from '@/types/shared';\nimport type { NumberInputSlots } from './number-input-variants';\n\n/**\n * Class names for different slots in the number input component.\n * Allows customizing styles for the root, buttons, control, and clearable parts.\n */\nexport type NumberInputClassNames = Partial<Record<NumberInputSlots, ClassValue>>;\n\n/**\n * Props for the NumberInput root container component.\n * Wrapper that organizes the input control and buttons.\n */\nexport interface NumberInputRootProps extends HTMLComponentProps<'div'> {\n  /**\n   * Whether to center the input value with buttons on both sides.\n   * @default false\n   */\n  center?: boolean;\n}\n\n/**\n * Props for the NumberInput decrement button component.\n * Button that decreases the numeric value.\n */\nexport interface NumberInputDecrementProps extends HTMLComponentProps<'button'> {\n  /**\n   * Whether the decrement button is disabled.\n   */\n  disabled?: boolean;\n}\n\n/**\n * Props for the NumberInput increment button component.\n * Button that increases the numeric value.\n */\nexport interface NumberInputIncrementProps extends HTMLComponentProps<'button'> {\n  /**\n   * Whether the increment button is disabled.\n   */\n  disabled?: boolean;\n}\n\n/**\n * Props for the NumberInput control component.\n * The actual input element for numeric value entry.\n */\nexport interface NumberInputControlProps extends Omit<ComponentPropsWithRef<'input'>, 'size' | 'className'> {\n  /**\n   * CSS class name for the input control.\n   */\n  className?: ClassValue;\n  /**\n   * Component size variant.\n   */\n  size?: ThemeSize;\n}\n\n/**\n * Props for the main NumberInput component.\n * A numeric input with increment/decrement buttons.\n *\n * @example\n * ```tsx\n * // Basic number input\n * <NumberInput value={count} onChange={setCount} />\n *\n * // With min/max limits\n * <NumberInput min={0} max={100} step={5} />\n *\n * // Centered layout with buttons on both sides\n * <NumberInput center />\n *\n * // With clearable button\n * <NumberInput clearable />\n *\n * // Different sizes\n * <NumberInput size=\"lg\" />\n *\n * // Disabled state\n * <NumberInput disabled />\n * ```\n */\nexport interface NumberInputProps extends Omit<ComponentPropsWithRef<'input'>, 'size' | 'className' | 'onChange'> {\n  /**\n   * CSS class name for the root element.\n   */\n  className?: ClassValue;\n  /**\n   * Class names for customizing different parts of the number input component.\n   */\n  classNames?: NumberInputClassNames;\n  /**\n   * Component size variant.\n   */\n  size?: ThemeSize;\n  /**\n   * Whether to center the input value with buttons on both sides.\n   * @default false\n   */\n  center?: boolean;\n  /**\n   * Whether to show the clearable button.\n   * @default false\n   */\n  clearable?: boolean;\n  /**\n   * Minimum allowed value.\n   */\n  min?: number;\n  /**\n   * Maximum allowed value.\n   */\n  max?: number;\n  /**\n   * Step value for increment/decrement operations.\n   * @default 1\n   */\n  step?: number;\n  /**\n   * Current numeric value.\n   */\n  value?: number | string;\n  /**\n   * Default value for uncontrolled mode.\n   */\n  defaultValue?: number | string;\n  /**\n   * Callback fired when the value changes.\n   */\n  onChange?: (value: number | undefined) => void;\n  /**\n   * Callback fired when the input value changes (for controlled mode).\n   */\n  onValueChange?: (value: number | undefined) => void;\n  /**\n   * Custom decrement icon.\n   */\n  decrementIcon?: React.ReactNode;\n  /**\n   * Custom increment icon.\n   */\n  incrementIcon?: React.ReactNode;\n  /**\n   * Props for the decrement button.\n   */\n  decrementProps?: Omit<NumberInputDecrementProps, 'disabled'>;\n  /**\n   * Props for the increment button.\n   */\n  incrementProps?: Omit<NumberInputIncrementProps, 'disabled'>;\n  /**\n   * Props for the input control.\n   */\n  controlProps?: Omit<NumberInputControlProps, 'value' | 'onChange'>;\n}\n\n",
      "type": "registry:ui",
      "target": "components/number-input/types.ts"
    }
  ]
}
