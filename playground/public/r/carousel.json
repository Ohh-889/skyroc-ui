{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "carousel",
  "type": "registry:block",
  "title": "Carousel",
  "dependencies": [
    "embla-carousel-react"
  ],
  "registryDependencies": [
    "https://ui-play.skyroc.me/r/style.json",
    "https://ui-play.skyroc.me/r/button.json"
  ],
  "files": [
    {
      "path": "src/components/carousel/Carousel.tsx",
      "content": "'use client';\n\nimport { forwardRef } from 'react';\nimport { useComponentConfig } from '../config-provider/context';\nimport CarouselUI from './CarouselUI';\nimport type { CarouselProps } from './types';\n\nconst Carousel = forwardRef<HTMLDivElement, CarouselProps>((props, ref) => {\n  const config = useComponentConfig('carousel');\n\n  const mergedProps = {\n    ...config,\n    ...props\n  };\n\n  return (\n    <CarouselUI\n      {...mergedProps}\n      ref={ref}\n    />\n  );\n});\n\nCarousel.displayName = 'Carousel';\n\nexport default Carousel;\n",
      "type": "registry:ui",
      "target": "components/carousel/Carousel.tsx"
    },
    {
      "path": "src/components/carousel/CarouselContent.tsx",
      "content": "'use client';\n\nimport { forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\nimport { carouselVariants } from './carousel-variants';\nimport { useCarousel } from './context';\nimport type { CarouselContentProps } from './types';\n\nconst CarouselContent = forwardRef<HTMLDivElement, CarouselContentProps>((props, ref) => {\n  const { className, classNames, size, ...rest } = props;\n\n  const { carouselRef, orientation } = useCarousel();\n\n  const { content, contentWrapper } = carouselVariants({ orientation, size });\n\n  const contentClassName = cn(content(), classNames?.content);\n\n  const contentWrapperClassName = cn(contentWrapper(), className || classNames?.contentWrapper);\n\n  return (\n    <div\n      className={contentWrapperClassName}\n      ref={carouselRef}\n    >\n      <div\n        className={contentClassName}\n        ref={ref}\n        {...rest}\n      />\n    </div>\n  );\n});\nCarouselContent.displayName = 'CarouselContent';\n\nexport default CarouselContent;\n",
      "type": "registry:ui",
      "target": "components/carousel/CarouselContent.tsx"
    },
    {
      "path": "src/components/carousel/CarouselItem.tsx",
      "content": "'use client';\n\nimport { forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\nimport { carouselVariants } from './carousel-variants';\nimport { useCarousel } from './context';\nimport type { CarouselItemProps } from './types';\n\nconst CarouselItem = forwardRef<HTMLDivElement, CarouselItemProps>((props, ref) => {\n  const { className, size, ...rest } = props;\n\n  const { orientation } = useCarousel();\n\n  const { item } = carouselVariants({ orientation, size });\n\n  const itemClassName = cn(item(), className);\n\n  return (\n    <div\n      aria-roledescription=\"slide\"\n      className={itemClassName}\n      ref={ref}\n      role=\"group\"\n      {...rest}\n    />\n  );\n});\n\nCarouselItem.displayName = 'CarouselItem';\n\nexport default CarouselItem;\n",
      "type": "registry:ui",
      "target": "components/carousel/CarouselItem.tsx"
    },
    {
      "path": "src/components/carousel/CarouselNext.tsx",
      "content": "'use client';\n\nimport { forwardRef } from 'react';\nimport { ChevronRight } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { ButtonIcon } from '../button';\nimport { carouselVariants } from './carousel-variants';\nimport { useCarousel } from './context';\nimport type { CarouselNextProps } from './types';\n\nconst CarouselNext = forwardRef<HTMLButtonElement, CarouselNextProps>((props, ref) => {\n  const { children, className, disabled, shape = 'circle', size, variant = 'pure', ...rest } = props;\n\n  const { canScrollNext, orientation, scrollNext } = useCarousel();\n\n  const { next } = carouselVariants({ orientation, size });\n\n  const nextClassName = cn(next(), className);\n\n  return (\n    <ButtonIcon\n      className={nextClassName}\n      disabled={!canScrollNext || disabled}\n      ref={ref}\n      shape={shape}\n      size={size}\n      variant={variant}\n      onClick={scrollNext}\n      {...rest}\n    >\n      {children || <ChevronRight />}\n    </ButtonIcon>\n  );\n});\n\nCarouselNext.displayName = 'CarouselNext';\n\nexport default CarouselNext;\n",
      "type": "registry:ui",
      "target": "components/carousel/CarouselNext.tsx"
    },
    {
      "path": "src/components/carousel/CarouselPrevious.tsx",
      "content": "'use client';\n\nimport { forwardRef } from 'react';\nimport { ChevronLeft } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { ButtonIcon } from '../button';\nimport { carouselVariants } from './carousel-variants';\nimport { useCarousel } from './context';\nimport type { CarouselNextProps } from './types';\n\nconst CarouselNext = forwardRef<HTMLButtonElement, CarouselNextProps>((props, ref) => {\n  const { children, className, disabled, shape = 'circle', size, variant = 'pure', ...rest } = props;\n\n  const { canScrollPrev, orientation, scrollPrev } = useCarousel();\n\n  const { previous } = carouselVariants({ orientation, size });\n\n  const previousClassName = cn(previous(), className);\n\n  return (\n    <ButtonIcon\n      className={previousClassName}\n      disabled={!canScrollPrev || disabled}\n      ref={ref}\n      shape={shape}\n      size={size}\n      variant={variant}\n      onClick={scrollPrev}\n      {...rest}\n    >\n      {children || <ChevronLeft />}\n    </ButtonIcon>\n  );\n});\n\nCarouselNext.displayName = 'CarouselNext';\n\nexport default CarouselNext;\n",
      "type": "registry:ui",
      "target": "components/carousel/CarouselPrevious.tsx"
    },
    {
      "path": "src/components/carousel/CarouselRoot.tsx",
      "content": "'use client';\n\nimport { forwardRef, useCallback, useEffect, useState } from 'react';\nimport type { KeyboardEvent } from 'react';\nimport useEmblaCarousel from 'embla-carousel-react';\nimport { cn } from '@/lib/utils';\nimport { carouselVariants } from './carousel-variants';\nimport { CarouselContext } from './context';\nimport type { CarouselApi, CarouselRootProps } from './types';\n\nconst Carousel = forwardRef<HTMLDivElement, CarouselRootProps>((props, ref) => {\n  const { children, className, opts, orientation = 'horizontal', plugins, setApi, size, ...rest } = props;\n\n  const [canScrollPrev, setCanScrollPrev] = useState(false);\n  const [canScrollNext, setCanScrollNext] = useState(false);\n\n  const { root } = carouselVariants({ orientation, size });\n\n  const rootClassName = cn(root(), className);\n\n  const [carouselRef, api] = useEmblaCarousel(\n    {\n      ...opts,\n      axis: orientation === 'horizontal' ? 'x' : 'y'\n    },\n    plugins\n  );\n\n  const onSelect = useCallback((carouselApi: CarouselApi) => {\n    if (!carouselApi) {\n      return;\n    }\n\n    setCanScrollPrev(carouselApi.canScrollPrev());\n    setCanScrollNext(carouselApi.canScrollNext());\n  }, []);\n\n  const scrollPrev = useCallback(() => {\n    api?.scrollPrev();\n  }, [api]);\n\n  const scrollNext = useCallback(() => {\n    api?.scrollNext();\n  }, [api]);\n\n  const handleKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLDivElement>) => {\n      const prevKey = orientation === 'vertical' ? 'ArrowUp' : 'ArrowLeft';\n      const nextKey = orientation === 'vertical' ? 'ArrowDown' : 'ArrowRight';\n\n      if (event.key === prevKey) {\n        event.preventDefault();\n        scrollPrev();\n      }\n      else if (event.key === nextKey) {\n        event.preventDefault();\n        scrollNext();\n      }\n    },\n    [orientation, scrollNext, scrollPrev]\n  );\n\n  useEffect(() => {\n    if (!api || !setApi) {\n      return;\n    }\n\n    setApi(api);\n  }, [api, setApi]);\n\n  useEffect(() => {\n    if (!api) {\n      return;\n    }\n\n    onSelect(api);\n\n    api.on('reInit', onSelect);\n    api.on('select', onSelect);\n\n    return () => {\n      api?.off('select', onSelect);\n    };\n  }, [api, onSelect]);\n\n  return (\n    <CarouselContext.Provider\n      value={{\n        api,\n        canScrollNext,\n        canScrollPrev,\n        carouselRef,\n        opts,\n        orientation: orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),\n        scrollNext,\n        scrollPrev\n      }}\n    >\n      <div\n        aria-roledescription=\"carousel\"\n        className={rootClassName}\n        ref={ref}\n        role=\"region\"\n        tabIndex={0}\n        onKeyDownCapture={handleKeyDown}\n        {...rest}\n      >\n        {children}\n      </div>\n    </CarouselContext.Provider>\n  );\n});\n\nCarousel.displayName = 'Carousel';\n\nexport default Carousel;\n",
      "type": "registry:ui",
      "target": "components/carousel/CarouselRoot.tsx"
    },
    {
      "path": "src/components/carousel/CarouselUI.tsx",
      "content": "import { Children, forwardRef } from 'react';\nimport { isFunction } from '@/lib/typed';\nimport CarouselContent from './CarouselContent';\nimport CarouselItem from './CarouselItem';\nimport CarouselNext from './CarouselNext';\nimport CarouselPrevious from './CarouselPrevious';\nimport CarouselRoot from './CarouselRoot';\nimport type { CarouselProps } from './types';\n\nconst CarouselUI = forwardRef<HTMLDivElement, CarouselProps>((props, ref) => {\n  const { children, className, classNames, counts, nextProps, previousProps, size, ...rest } = props;\n\n  return (\n    <CarouselRoot\n      className={className || classNames?.root}\n      ref={ref}\n      size={size}\n      {...rest}\n    >\n      <CarouselContent\n        classNames={classNames}\n        size={size}\n      >\n        {counts\n          ? Array.from({ length: counts }).map((_, index) => (\n            <CarouselItem\n              className={classNames?.item}\n              key={index}\n              size={size}\n            >\n              {isFunction(children) ? children(index) : Children.toArray(children)[index]}\n            </CarouselItem>\n          ))\n          : null}\n      </CarouselContent>\n\n      <CarouselNext\n        className={classNames?.next}\n        size={size}\n        {...nextProps}\n      />\n\n      <CarouselPrevious\n        className={classNames?.previous}\n        size={size}\n        {...previousProps}\n      />\n    </CarouselRoot>\n  );\n});\n\nCarouselUI.displayName = 'CarouselUI';\n\nexport default CarouselUI;\n",
      "type": "registry:ui",
      "target": "components/carousel/CarouselUI.tsx"
    },
    {
      "path": "src/components/carousel/carousel-variants.ts",
      "content": "import { tv } from 'tailwind-variants';\n\nexport const carouselVariants = tv({\n  compoundVariants: [\n    {\n      class: {\n        content: '-ml-3',\n        item: 'pl-3',\n        next: '-right-10',\n        previous: '-left-10'\n      },\n      orientation: 'horizontal',\n      size: 'xs'\n    },\n    {\n      class: {\n        content: '-ml-3.5',\n        item: 'pl-3.5',\n        next: '-right-11',\n        previous: '-left-11'\n      },\n      orientation: 'horizontal',\n      size: 'sm'\n    },\n    {\n      class: {\n        content: '-ml-4.5',\n        item: 'pl-4.5',\n        next: '-right-13',\n        previous: '-left-13'\n      },\n      orientation: 'horizontal',\n      size: 'lg'\n    },\n    {\n      class: {\n        content: '-ml-5',\n        item: 'pl-5',\n        next: '-right-14',\n        previous: '-left-14'\n      },\n      orientation: 'horizontal',\n      size: 'xl'\n    },\n    {\n      class: {\n        content: '-ml-6',\n        item: 'pl-6',\n        next: '-right-16',\n        previous: '-left-16'\n      },\n      orientation: 'horizontal',\n      size: '2xl'\n    },\n    {\n      class: {\n        content: '-mt-3',\n        item: 'pt-3',\n        next: '-bottom-10',\n        previous: '-top-10'\n      },\n      orientation: 'vertical',\n      size: 'xs'\n    },\n    {\n      class: {\n        content: '-mt-3.5',\n        item: 'pt-3.5',\n        next: '-bottom-11',\n        previous: '-top-11'\n      },\n      orientation: 'vertical',\n      size: 'sm'\n    },\n    {\n      class: {\n        content: '-mt-4.5',\n        item: 'pt-4.5',\n        next: '-bottom-13',\n        previous: '-top-13'\n      },\n      orientation: 'vertical',\n      size: 'lg'\n    },\n    {\n      class: {\n        content: '-mt-5',\n        item: 'pt-5',\n        next: '-bottom-14',\n        previous: '-top-14'\n      },\n      orientation: 'vertical',\n      size: 'xl'\n    },\n    {\n      class: {\n        content: '-mt-6',\n        item: 'pt-6',\n        next: '-bottom-16',\n        previous: '-top-16'\n      },\n      orientation: 'vertical',\n      size: '2xl'\n    }\n  ],\n  defaultVariants: {\n    orientation: 'horizontal'\n  },\n  slots: {\n    content: 'flex',\n    contentWrapper: 'overflow-hidden',\n    item: 'min-w-0 shrink-0 grow-0 basis-full',\n    next: 'touch-manipulation absolute',\n    previous: 'touch-manipulation absolute',\n    root: 'relative'\n  },\n  variants: {\n    orientation: {\n      horizontal: {\n        content: '-ml-4',\n        item: 'pl-4',\n        next: '-right-12 top-1/2 -translate-y-1/2',\n        previous: '-left-12 top-1/2 -translate-y-1/2'\n      },\n      vertical: {\n        content: 'flex-col -mt-4',\n        item: 'pt-4',\n        next: '-bottom-12 left-1/2 -translate-x-1/2 rotate-90',\n        previous: '-top-12 left-1/2 -translate-x-1/2 rotate-90'\n      }\n    },\n    size: {\n      '2xl': {\n        root: 'text-xl'\n      },\n      'lg': {\n        root: 'text-base'\n      },\n      'md': {\n        root: 'text-sm'\n      },\n      'sm': {\n        root: 'text-xs'\n      },\n      'xl': {\n        root: 'text-lg'\n      },\n      'xs': {\n        root: 'text-2xs'\n      }\n    }\n  }\n});\n\nexport type CarouselSlots = keyof typeof carouselVariants.slots;\n",
      "type": "registry:ui",
      "target": "components/carousel/carousel-variants.ts"
    },
    {
      "path": "src/components/carousel/context.ts",
      "content": "'use client';\nimport { createContext, useContext } from 'react';\nimport type { CarouselContextProps } from './types';\n\nexport const CarouselContext = createContext<CarouselContextProps | null>(null);\n\nexport function useCarousel() {\n  const context = useContext(CarouselContext);\n\n  if (!context) {\n    throw new Error('useCarousel must be used within a <CarouselRoot />');\n  }\n\n  return context;\n}\n",
      "type": "registry:ui",
      "target": "components/carousel/context.ts"
    },
    {
      "path": "src/components/carousel/index.ts",
      "content": "export { default as Carousel } from './Carousel';\nexport { default as CarouselContent } from './CarouselContent';\nexport { default as CarouselItem } from './CarouselItem';\nexport { default as CarouselNext } from './CarouselNext';\nexport { default as CarouselPrevious } from './CarouselPrevious';\nexport { default as CarouselRoot } from './CarouselRoot';\n\nexport * from './types';\n",
      "type": "registry:ui",
      "target": "components/carousel/index.ts"
    },
    {
      "path": "src/components/carousel/types.ts",
      "content": "import type useEmblaCarousel from 'embla-carousel-react';\nimport type { UseEmblaCarouselType } from 'embla-carousel-react';\nimport type { HTMLComponentProps, ClassValue } from '@/types/shared';\nimport type { ButtonProps } from '../button';\nimport type { CarouselSlots } from './carousel-variants';\n\n/**\n * Type definition for the Carousel API instance.\n * Provides access to carousel control methods and state.\n */\nexport type CarouselApi = UseEmblaCarouselType[1];\n\n/**\n * Parameters type for the useEmblaCarousel hook.\n * Used to extract configuration and plugin types.\n */\nexport type UseCarouselParameters = Parameters<typeof useEmblaCarousel>;\n\n/**\n * Configuration options for the Embla carousel.\n * Controls carousel behavior such as speed, alignment, and loop settings.\n */\nexport type CarouselOptions = UseCarouselParameters[0];\n\n/**\n * Plugin extensions for the Embla carousel.\n * Allows adding custom functionality like autoplay or custom effects.\n */\nexport type CarouselPlugin = UseCarouselParameters[1];\n\n/**\n * Root configuration properties for the carousel component.\n * Defines the core settings and callbacks for carousel initialization.\n */\nexport interface CarouselRootType {\n  /**\n   * Embla carousel configuration options.\n   * @see https://www.embla-carousel.com/api/options/\n   */\n  opts?: CarouselOptions;\n\n  /**\n   * Carousel scroll direction.\n   * @default 'horizontal'\n   */\n  orientation?: 'horizontal' | 'vertical';\n\n  /**\n   * Plugin modules to extend carousel functionality.\n   */\n  plugins?: CarouselPlugin;\n\n  /**\n   * Callback function to receive the carousel API instance.\n   * Allows programmatic control of the carousel.\n   * @param api - The carousel API instance for controlling slides\n   */\n  setApi?: (api: CarouselApi) => void;\n}\n\n/**\n * Context properties for the carousel component.\n * Contains carousel state and control methods for child components.\n */\nexport type CarouselContextProps = {\n  /**\n   * The Embla carousel API instance.\n   */\n  api: ReturnType<typeof useEmblaCarousel>[1];\n\n  /**\n   * Indicates if the carousel can scroll forward.\n   */\n  canScrollNext: boolean;\n\n  /**\n   * Indicates if the carousel can scroll backward.\n   */\n  canScrollPrev: boolean;\n\n  /**\n   * Reference to the carousel container element.\n   */\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0];\n\n  /**\n   * Function to scroll the carousel forward to the next slide.\n   */\n  scrollNext: () => void;\n\n  /**\n   * Function to scroll the carousel backward to the previous slide.\n   */\n  scrollPrev: () => void;\n} & CarouselRootType;\n\n/**\n * Class names for different carousel UI slots.\n * Allows customizing styles for specific carousel parts.\n */\nexport type CarouselUi = Partial<Record<CarouselSlots, ClassValue>>;\n\n/**\n * Props for the carousel content wrapper component.\n * Manages the layout and styling of slide items.\n */\nexport type CarouselContentProps = HTMLComponentProps<'div'> & {\n  /**\n   * Custom class names for content-related slots.\n   */\n  classNames?: Pick<CarouselUi, 'content' | 'contentWrapper'>;\n};\n\n/**\n * Props for individual carousel item/slide component.\n * Represents a single slide in the carousel.\n */\nexport type CarouselItemProps = HTMLComponentProps<'div'>;\n\n/**\n * Props for the carousel next navigation button.\n * Extends button component properties.\n */\nexport type CarouselNextProps = ButtonProps;\n\n/**\n * Props for the carousel previous navigation button.\n * Extends button component properties.\n */\nexport type CarouselPreviousProps = ButtonProps;\n\n/**\n * Props for the carousel root/container component.\n * Combines HTML div properties with carousel configuration.\n */\nexport type CarouselRootProps = HTMLComponentProps<'div'> & CarouselRootType;\n\n/**\n * Base carousel props without children.\n * Used as a foundation for carousel variants with different children types.\n */\nexport type CarouselPropsWithoutChildren = Omit<CarouselRootProps, 'children'> & {\n  /**\n   * Custom class names for carousel UI slots.\n   */\n  classNames?: CarouselUi;\n\n  /**\n   * Number of slides to render when using index-based rendering.\n   */\n  counts?: number;\n\n  /**\n   * Props to pass to the next navigation button.\n   */\n  nextProps?: Omit<ButtonProps, 'class'>;\n\n  /**\n   * Props to pass to the previous navigation button.\n   */\n  previousProps?: Omit<ButtonProps, 'class'>;\n};\n\n/**\n * Carousel component with render function children.\n * Allows dynamic slide generation based on slide index.\n *\n * @example\n * ```tsx\n * <Carousel counts={5}>\n *   {(index) => <div key={index}>Slide {index + 1}</div>}\n * </Carousel>\n * ```\n */\nexport interface CarouselWithSlotChildren extends CarouselPropsWithoutChildren {\n  /**\n   * Render function that receives the slide index and returns ReactNode.\n   * Called for each slide to generate the content dynamically.\n   * @param index - The zero-based index of the current slide\n   */\n  children: (index: number) => React.ReactNode;\n}\n\n/**\n * Carousel component with array of children.\n * Static list of slides passed as array elements.\n *\n * @example\n * ```tsx\n * <Carousel>\n *   <div>Slide 1</div>\n *   <div>Slide 2</div>\n *   <div>Slide 3</div>\n * </Carousel>\n * ```\n */\nexport interface CarouselWithChildrenArray extends CarouselPropsWithoutChildren {\n  /**\n   * Array of React nodes representing carousel slides.\n   */\n  children: React.ReactNode[];\n}\n\n/**\n * Union type for carousel props supporting both children patterns.\n * Choose between render function or array of slide elements.\n */\nexport type CarouselProps = CarouselWithSlotChildren | CarouselWithChildrenArray;\n",
      "type": "registry:ui",
      "target": "components/carousel/types.ts"
    }
  ]
}